/*!
 * fireshell
 * Fiercely quick and opinionated front-ends
 * http://getfireshell.com
 * @author Todd Motto
 * @version 1.1.0
 * Copyright 2013. MIT licensed.
 */

!function(a,b,c,d){"use strict";function e(){l>m?(p.addClass("blur"),t.css("display","block"),u.append(h)):l<=m&&(p.addClass("blur"),t.css("display","block"),u.append(w),j=20,l=0,setTimeout(function(){r.addClass("ready")},1e3)),q.html("")}function f(){for(var a=0;a<3;a++){var b,c,d=0,e=95,f=Math.floor(Math.random()*(e-d+1)+d);i.matches?(b=18,c=11):(b=10,c=6);var g=Math.floor(Math.random()*(b-c+1)+c),h='<div class="bubble" style="left:'+f+"%;-webkit-animation:bubbleRise "+g+"s linear forwards;-o-animation: bubbleRise "+g+"s linear forwards;animation: bubbleRise "+g+'s linear forwards;">';q.append(h)}}function g(){new f;var a=setInterval(function(){new f},2e3),b=setInterval(function(){console.log(j),k.html(j),j-=1,j<0&&(console.log("times up!"),new e,q.removeClass("active"),r.removeClass("ready"),clearInterval(b),clearInterval(a))},1e3)}a.fn.nodoubletapzoom=function(){a(this).bind("touchstart",function(b){var c=b.timeStamp,d=a(this).data("lastTouch")||c,e=c-d,f=b.originalEvent.touches.length;a(this).data("lastTouch",c),!e||e>500||f>1||(b.preventDefault(),a(this).trigger("click").trigger("click"))})};var h,i=b.matchMedia("(min-height: 600px)"),j=20,k=a("#timer span"),l=0,m=9,n=a("#score span"),o=a(".popup-container .popup-inner .close"),p=a(".main-container"),q=a("#play-area"),r=a("#start.ready"),s=a(".how-to-play"),t=a(".popup-container"),u=a(".popup-container .popup-inner .content"),v="<h1>Festeggia Ferragosto con noi partecipando a <span>Rompi le Bolle: sorprese ogni giorno!</span></h1><ul>Tra l&rsquo;<b>11</b> e il <b>15 agosto:</b><li><b>Vieni al casin&ograve; ogni giorno</b> e clicca su <b>Inizia a rompere le bolle</b> per aderire alla promozione</li><li>Dalla finestra che si aprir&agrave;, clicca su Inizia a giocare: avrai <b>20 secondi</b> per <b>rompere quante pi&ugrave; bolle possibile</b></li><li>Una volta che avrai rotto tutte le bolle necessarie, <b>scoprirai qual &egrave; la promozione del giorno</b></li><li>Se non ne romperai abbastanza per aggiudicarti il \tpremio, <b>avrai la possibilit&agrave; di ritentare</b></li></ul>",w="<h1><span>Ops!</span></h1><p>Non hai rotto abbastanza bolle<br>per ricevere I&rsquo;offerta del giorno. Rompine almeno 10!</p>",x=moment().format("YYYY-DD-MM"),y="2016-11-08",z="2016-12-08",A="2016-13-08",B="2016-14-08",C="2016-15-08";x===y&&(console.log("day1"),h="<h1><span>Congratulazioni!</span></h1><p>Hai rotto tutte le bolle necessarie.</p><p>Hai ricevuto &euro;30 in giocate gratuite*:<br>fai una ricarica di almeno &euro;10 per sbloccarli.</p><p>*Accreditate immediatamente sul casin&ograve; installato o online.</p>"),x===z&&(console.log("day2"),h='<h1><span>Congratulazioni!</span></h1><p>Hai rotto tutte le bolle necessarie.</p><p>Con una ricarica di &euro;15 sbloccherai 1 biglietto per il sorteggio da &euro;500 tra crediti bonus e giocate gratuite*.</p><p>I vincitori riceveranno il premio luned&igrave; 15 agosto.</p><p class="nb">*Le giocate gratuite saranno accreditate sul casin&ograve; installato o online.</p>'),x===A&&(console.log("day3"),h="<h1><span>Congratulazioni!</span></h1><p>Hai rotto tutte le bolle necessarie.</p><p>Hai ricevuto Punti Fedelt&agrave; x5, per tutto il giorno,<br>su Summer Holiday e Mermaids Millions.</p>"),x===B&&(console.log("day4"),h="<h1><span>Congratulazioni!</span></h1><p>Hai rotto tutte le bolle necessarie.</p><p>Hai ricevuto un bonus del 25%, fino a &euro;200 gratis,<br>sulla tua prossima ricarica di oggi.</p><p>La ricarica minima richiesta &egrave; di &euro;10,<br>e il bonus sar&agrave; accreditato immediatamente.</p>"),x===C&&(console.log("day5"),h='<h1><span>Congratulazioni!</span></h1><p>Hai rotto tutte le bolle necessarie.</p><p>Hai ricevuto &euro;20 in giocate gratuite* senza ricarica. Per sbloccarle, esci dal casin&ograve; e accedi nuovamente. </p><p class="nb">*Accreditate immediatamente sul casin&ograve; installato o online.</p>'),o.on("touchend",o,function(){a(this).parent().parent().css("display","none"),p.removeClass("blur"),u.html("")}),s.click(function(){p.addClass("blur"),t.css("display","block"),u.append(v)}),a(function(){console.log("ready"),n.html(l),r.click(function(){r.hasClass("ready")?(q.addClass("active"),new g):console.log("game not ready")}),q.on("touchend",".bubble",function(){a(this).nodoubletapzoom(),a(this).addClass("popped"),l+=1,n.html(l),a(this).on("transitionend webkitTransitionEnd oTransitionEnd",function(){a(this).css("display","none")})})})}(jQuery,window,document);